
<div class="wrapper row3">
  <main id="container" class="clear">
    <!-- container body -->
    <div *ngIf="isRegOk">
      <h2 class="ok-msg"> Your account was created! You will redirect to your profile soon! </h2>
    </div>
    <div *ngIf="isRegErr">
      <h2 class="error-msg">{{ErrMsg}}</h2>
    </div>
    <div class="row loading" *ngIf="isLoading"></div>
    <div class="row" *ngIf="!isLoading">
      <div class="col-md-8 marg-auto">
        <h2 class="text-center">Je suis {{(RegisterUser.user_type == 'professional')?'prestataire':'client'}}</h2><br>
        <form (ngSubmit)="Register()">
        <div class="row">
          <div class="col-sm-4 col-sm-push-2">
            <div class="form-group">
              <label>Email</label>
              <input type="text" class="form-control input-lg" name="user_email" required [ngModel]="RegisterUser.email" (ngModelChange)="RegisterUser.email = $event" pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
            </div>
            <div class="form-group">
              <label>Password</label>
              <input type="password" class="form-control input-lg" name="password" required  minlength="6" [ngModel]="RegisterUser.password" (ngModelChange)="RegisterUser.password = $event">
            </div>
            <div class="form-group">
              <label>Name</label>
              <input type="text" class="form-control input-lg" name="user_name" [ngModel]="RegisterUser.name" (ngModelChange)="RegisterUser.name = $event">
            </div>
            <div class="form-group">
              <label>Logo image</label>
              <img [src]='RegisterUser.image'>
              <input type="file" accept="image/*" name="logo_img" (change)="changeListener('user_logo',$event)">
            </div>
          </div>
          <div class="col-sm-8 col-sm-push-2">
            <div class="form-group">
              <label>Birthday</label>
              <input type="text" class="form-control input-lg" name="p_birthday" bsDatepicker [bsConfig]="bsConfig" [ngModel]="RegisterUser.date_of_birth" (ngModelChange)="RegisterUser.date_of_birth = $event">
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label>Gender</label>
                  <select name="p_gender" class="form-control" [ngModel]="RegisterUser.gender" (ngModelChange)="RegisterUser.gender = $event">
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                  </select>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label>User type</label>
                  <select name="user_type" class="form-control" [ngModel]="RegisterUser.user_type" (ngModelChange)="RegisterUser.user_type = $event">
                    <option value="client">Client</option>
                    <option value="professional">Professional</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="row" *ngIf="RegisterUser.user_type == 'professional'">
              <div class="col-md-6">
                <div class="form-group">
                  <label>Address</label>
                  <input type="text" ngui-auto-complete [source]="observableSource.bind(this)" [auto-select-first-item]="true" [select-on-blur]="true" list-formatter="formatted_address" (customSelected)="AddressSelected($event)" class="form-control input-lg" name="address" [ngModel]="RegisterUser.address" (valueChanged)="AddressChanged($event)">
                </div>
                <div class="form-group">
                  <label>Phone</label>
                  <input type="text" class="form-control input-lg" name="p_phone" [ngModel]="RegisterUser.phone" (ngModelChange)="RegisterUser.phone = $event">
                </div>
                <div class="form-group">
                  <label>Photocopy of diploma</label>
                  <img [src]='RegisterUser.diploma'>
                  <input type="file"  accept="image/*" name="diploma" (change)="changeListener('diploma',$event)">
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label>Activity description</label>
                  <textarea class="form-control" style="height: 135px!important;" name="p_description" [ngModel]="RegisterUser.description" (ngModelChange)="RegisterUser.description = $event" ></textarea>
                </div>
                <div class="form-group">
                  <label>Background image</label>
                  <img [src]='RegisterUser.background'>
                  <input type="file"  accept="image/*" name="background" (change)="changeListener('background',$event)">
                </div>
              </div>
            </div>
          </div>
        </div>
        <br>
        <div class="row"><div class="col-md-12 text-center"><button class="btn btn-success btn-lg" type="submit">Register</button></div></div>
        </form>
      </div>
    </div>


    <!-- ########################################################################################## -->
    <!-- / container body -->
    <div class="clear"></div>
  </main>
</div>